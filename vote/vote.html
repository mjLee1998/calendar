<!DOCTYPE html>
<html>
  <head>
    <title>Real-time voting</title>
    <script src="./vote.js"></script>
  </head>
  <body>
    <div id="votes">
      <button id="red">Red</button>
      <button id="blue">Blue</button>
      <button id="green">Green</button>
    </div>
    <div id="getVotes"></div>
    <script
      src="https://cdn.socket.io/4.5.4/socket.io.min.js"
      integrity="sha384-/KNQL8Nu5gCHLqwqfQjA689Hhoqgi2S84SNUxC3roTe4EhJ9AfLkp8QiQcU8AMzI"
      crossorigin="anonymous"
    ></script>
    <script>
      const socket = io.connect('http://localhost:3000');
      const votes = document.getElementById('getVotes');
      socket.on('votes', (data) => {
        votes.innerHTML = `Red: ${data.red}<br>Blue: ${data.blue}<br>Green: ${data.green}`;
      });
      votes.addEventListener('click', (event) => {
        socket.emit('vote', event.target.id);
      });
    </script>
  </body>
</html>
